--

Guía detallada de instalación en Ubuntu Server (MySQL y Apache)

1) Actualizar los paquetes del servidor

sudo apt update && sudo apt upgrade -y

2) Instalar Apache y MySQL

sudo apt install apache2 mysql-server -y

3) Instalar PHP y las dependencias necesarias

sudo apt install software-properties-common ca-certificates lsb-release apt-transport-https -y
sudo add-apt-repository ppa:ondrej/php -y

4) Instalar PHP 8.1 y las extensiones requeridas

sudo apt install php8.1 libapache2-mod-php8.1 php8.1-common php8.1-fpm php8.1-cgi php8.1-bcmath php8.1-gd php8.1-imap php8.1-intl php8.1-mbstring php8.1-curl php8.1-mysql php8.1-xml php8.1-zip unzip -y

5) Verificar la instalación de PHP

php -v
sudo systemctl restart apache2

6) Configurar MySQL

sudo mysql -u root -p

Introduce la contraseña de MySQL cuando se te pida y luego ejecuta los siguientes comandos:

CREATE DATABASE osticketdb;
CREATE USER 'admin'@'localhost' IDENTIFIED BY '54203719';
GRANT ALL PRIVILEGES ON osticketdb.* TO 'admin'@'localhost';
FLUSH PRIVILEGES;
EXIT;

7) Habilitar el acceso remoto a MySQL

Edita el archivo de configuración:

sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf

Busca la línea bind-address y cámbiala a:

bind-address = 0.0.0.0

Luego, reinicia MySQL para aplicar los cambios:

sudo systemctl restart mysql

8) Descargar y descomprimir osTicket

wget https://github.com/osTicket/osTicket/releases/download/v1.18.1/osTicket-v1.18.1.zip
sudo mkdir /var/www/html/osticket
sudo unzip osTicket-v1.18.1.zip -d /var/www/html/osticket

9) Asignar los permisos adecuados

sudo chown -R www-data:www-data /var/www/html/osticket
sudo chmod -R 755 /var/www/html/osticket

10) Configurar el archivo de configuración de osTicket

sudo mv /var/www/html/osticket/upload/include/ost-sampleconfig.php /var/www/html/osticket/upload/include/ost-config.php

11) Crear un VirtualHost en Apache

sudo nano /etc/apache2/sites-available/osticket.conf

Añade la siguiente configuración:

<VirtualHost *:80>
    ServerName your-domain.com
    DocumentRoot /var/www/html/osticket/upload

    <Directory /var/www/html/osticket/upload>
        Require all granted
        AllowOverride All
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/osticket.error.log
    CustomLog ${APACHE_LOG_DIR}/osticket.access.log combined
</VirtualHost>

Habilita el nuevo sitio y el módulo rewrite:

sudo a2ensite osticket.conf
sudo a2enmod rewrite
sudo systemctl restart apache2

12) Completar la instalación vía navegador

Abre el navegador y dirígete a http://54.158.70.94/setup para completar la instalación guiada de osTicket.

13) Finalizar la configuración

Después de la instalación, cambia los permisos de ost-config.php para mayor seguridad:

sudo chmod 644 /var/www/html/osticket/upload/include/ost-config.php

14) Eliminar el directorio de instalación

sudo rm -rf /var/www/html/osticket/upload/setup/


---

Con estos pasos, tendrás osTicket instalado y funcionando correctamente en tu servidor con Apache y MySQL.

